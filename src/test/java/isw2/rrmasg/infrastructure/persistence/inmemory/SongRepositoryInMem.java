package isw2.rrmasg.infrastructure.persistence.inmemory;

import isw2.rrmasg.domain.DomainFactory;
import isw2.rrmasg.domain.song.ISong;
import isw2.rrmasg.domain.song.ISongRepository;
import isw2.rrmasg.presentation.shared.exceptions.SongNotFoundException;

import java.util.LinkedList;
import java.util.List;

public class SongRepositoryInMem implements ISongRepository {

	List<ISong> songs;

	public SongRepositoryInMem() {
		songs = new LinkedList<ISong>();

		ISong s1 = DomainFactory.createSong();
		s1.setTitle("Because");
		s1.setAuthor("The Beatles");
		s1.setRecord("Apple");
		s1.setUrl("http://");
		songs.add(s1);
		ISong s2 = DomainFactory.createSong();
		;
		s2.setTitle("Get Back");
		s2.setAuthor("The Beatles");
		s2.setRecord("Apple");
		s2.setUrl("http://");
		songs.add(s2);
		ISong s3 = DomainFactory.createSong();
		;
		s3.setTitle("Glass Onion");
		s3.setAuthor("The Beatles");
		s3.setRecord("Apple");
		s3.setUrl("http://");
		songs.add(s3);
		ISong s4 = DomainFactory.createSong();
		;
		s4.setTitle("Julia");
		s4.setAuthor("The Beatles");
		s4.setRecord("Apple");
		s4.setUrl("http://");
		songs.add(s4);
		ISong s5 = DomainFactory.createSong();
		;
		s5.setTitle("I Am the Walrus");
		s5.setAuthor("The Beatles");
		s5.setRecord("Apple");
		s5.setUrl("http://");
		songs.add(s5);
		ISong s6 = DomainFactory.createSong();
		;
		s6.setTitle("I Want To Hol Your Hand");
		s6.setAuthor("The Beatles");
		s6.setRecord("Apple");
		s6.setUrl("http://");
		songs.add(s6);
		ISong s7 = DomainFactory.createSong();
		;
		s7.setTitle("Drive My Car");
		s7.setAuthor("The Beatles");
		s7.setRecord("Apple");
		s7.setUrl("http://");
		songs.add(s7);
		ISong s8 = DomainFactory.createSong();
		;
		s8.setTitle("Gnik Nus");
		s8.setAuthor("The Beatles");
		s8.setRecord("Apple");
		s8.setUrl("http://");
		songs.add(s8);
		ISong s9 = DomainFactory.createSong();
		;
		s9.setTitle("Something");
		s9.setAuthor("The Beatles");
		s9.setRecord("Apple");
		s9.setUrl("http://");
		songs.add(s9);
		ISong s10 = DomainFactory.createSong();
		;
		s10.setTitle("Being for the Benefit of Mr. Kite!");
		s10.setAuthor("The Beatles");
		s10.setRecord("Apple");
		s10.setUrl("http://");
		songs.add(s10);
		ISong s11 = DomainFactory.createSong();
		;
		s11.setTitle("Help!");
		s11.setAuthor("The Beatles");
		s11.setRecord("Apple");
		s11.setUrl("http://");
		songs.add(s11);
		ISong s12 = DomainFactory.createSong();
		;
		s12.setTitle("Yesterday");
		s12.setAuthor("The Beatles");
		s12.setRecord("Apple");
		s12.setUrl("http://");
		songs.add(s12);
		ISong s13 = DomainFactory.createSong();
		;
		s13.setTitle("Strawberry Fields Forever");
		s13.setAuthor("The Beatles");
		s13.setRecord("Apple");
		s13.setUrl("http://");
		songs.add(s13);
		ISong s14 = DomainFactory.createSong();
		;
		s14.setTitle("Within You Without You");
		s14.setAuthor("The Beatles");
		s14.setRecord("Apple");
		s14.setUrl("http://");
		songs.add(s14);
		ISong s15 = DomainFactory.createSong();
		;
		s15.setTitle("Lucy in the Sky with Diamonds");
		s15.setAuthor("The Beatles");
		s15.setRecord("Apple");
		s15.setUrl("http://");
		songs.add(s15);
		ISong s16 = DomainFactory.createSong();
		;
		s16.setTitle("Octopus's Garden");
		s16.setAuthor("The Beatles");
		s16.setRecord("Apple");
		s16.setUrl("http://");
		songs.add(s16);
		ISong s17 = DomainFactory.createSong();
		;
		s17.setTitle("Lady Madonna");
		s17.setAuthor("The Beatles");
		s17.setRecord("Apple");
		s17.setUrl("http://");
		songs.add(s17);
		ISong s18 = DomainFactory.createSong();
		;
		s18.setTitle("Here Comes The Sun");
		s18.setAuthor("The Beatles");
		s18.setRecord("Apple");
		s18.setUrl("http://");
		songs.add(s18);
		ISong s19 = DomainFactory.createSong();
		;
		s19.setTitle("Dear Prudence");
		s19.setAuthor("The Beatles");
		s19.setRecord("Apple");
		s19.setUrl("http://");
		songs.add(s19);
		ISong s20 = DomainFactory.createSong();
		;
		s20.setTitle("Revolution");
		s20.setAuthor("The Beatles");
		s20.setRecord("Apple");
		s20.setUrl("http://");
		songs.add(s20);
		ISong s21 = DomainFactory.createSong();
		;
		s21.setTitle("Back In The U.S.S.R.");
		s21.setAuthor("The Beatles");
		s21.setRecord("Apple");
		s21.setUrl("http://");
		songs.add(s21);
		ISong s22 = DomainFactory.createSong();
		;
		s22.setTitle("While My Guitar Gently Weeps");
		s22.setAuthor("The Beatles");
		s22.setRecord("Apple");
		s22.setUrl("http://");
		songs.add(s22);
		ISong s23 = DomainFactory.createSong();
		;
		s23.setTitle("A Day in the Life");
		s23.setAuthor("The Beatles");
		s23.setRecord("Apple");
		s23.setUrl("http://");
		songs.add(s23);
		ISong s24 = DomainFactory.createSong();
		;
		s24.setTitle("Hey Jude");
		s24.setAuthor("The Beatles");
		s24.setRecord("Apple");
		s24.setUrl("http://");
		songs.add(s24);
		ISong s25 = DomainFactory.createSong();
		;
		s25.setTitle("Sgt. Pepper's Lonely Hearts Club Band (Reprise)");
		s25.setAuthor("The Beatles");
		s25.setRecord("Apple");
		s25.setUrl("http://");
		songs.add(s25);
		ISong s26 = DomainFactory.createSong();
		;
		s26.setTitle("All You Need Is Love");
		s26.setAuthor("The Beatles");
		s26.setRecord("Apple");
		s26.setUrl("http://");
		songs.add(s26);
	}

	public ISong findByID(String id) {
		for (ISong s : songs) {
			if (s.getUniqueID().equals(id)) {
				return s;
			}
		}
		throw new SongNotFoundException();
	}

	public List<ISong> searchSongs(String token, int firstResult, int maxResult) {
		List<ISong> result = new LinkedList<ISong>();
		int resultsUntilStart = firstResult;
		for (ISong s : songs) {
			if (s.getTitle().contains(token) || s.getAuthor().contains(token)
					|| s.getRecord().contains(token)) {
				resultsUntilStart--;
				if (resultsUntilStart <= 0)
					result.add(s);
			}
			if (result.size() == maxResult) {
				return result;
			}
		}
		return result;
	}

	public String getNextId() {
		return new Integer(songs.size()).toString();
	}

	public void reIndexSongs() {
		
	}

	public List<ISong> findAllSongs() {
		return songs;
	}

}
